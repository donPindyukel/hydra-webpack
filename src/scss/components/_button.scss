// ==========================================================================
// Компонент кнопки
// ==========================================================================

// Создание кнопки
// width - длина кнопки
// color-text - цвет текста
// color-bg - цвет фона
// color-border - цвет обводки
// color-shadow - цвет тени
@mixin button($max-width: auto, $color-text: $color-text-normal, $color-bg: $button-color-bg, $color-border: transparent, $color-shadow: transparent) {
    $color-bg-hover: darken($color-bg, 10%);
    $color-border-hover: darken($color-border, 10%);
    $color-shadow-hover: darken($color-shadow, 10%);

    width: 100%;
    max-width: $max-width;
    color: $color-text;
    background: $color-bg;
    border: $button-border-size $color-border;
    border-radius: $button-border-radius;
    padding: $button-padding;

    @if ($button-option-shadow) {
        box-shadow: $button-shadow-size $color-shadow;
    }

    position: relative;
    transition: all .2s linear;
    display: inline-block;
    text-align: center;
    white-space: nowrap;
    vertical-align: middle;
    user-select: none;
    text-decoration: none;
    outline: none;
    overflow: hidden;

    @include hover {
        color: $color-text;
        text-decoration: none;
        background: $color-bg-hover;
        border: $button-border-size $color-border-hover;
        outline: none;

        @if ($button-option-shadow) {
            box-shadow: $button-shadow-size $color-shadow-hover;
        }
    }

    @include focus {
        color: $color-text;
        text-decoration: none;
        background: $color-bg-hover;
        border: $button-border-size $color-border-hover;
        outline: none;

        @if ($button-option-shadow) {
            box-shadow: $button-shadow-size $color-shadow-hover;
        }
    }
}

// Дополнение к кнопки. Индикатор загрузки
// color - Цвец кнопки
// width - длина кнопки
// centerModif - модификатор изображения
@mixin button-loading($color: #000, $width: rem(14), $centerModif: 1.35) {
    $size: $width;
    $border: rem($width - ($width * .8));
    $margin: rem(($width * $centerModif) - $width * 2) 0 0 rem(($width * $centerModif) - $width * 2);
    $color-before: fade_out($color, .6);

    color: transparent;
    position: relative;

    &:before {
        position: absolute;
        content: '';
        top: 50%;
        left: 50%;
        margin: $margin;
        width: $size;
        height: $size;
        border-radius: 50%;
        border: $border solid $color-before;
    }

    &:after {
        position: absolute;
        content: '';
        top: 50%;
        left: 50%;

        margin: $margin;
        width: $size;
        height: $size;

        border-radius: 50%;
        border-color: $color transparent transparent;
        border-style: solid;
        border-width: $border;
        box-shadow: 0 0 0 1px transparent;

        @include animated('rotate', .6s, 'infinite');
    }
}

// Дополнение к кнопки. Индикатор мерцания кнопки
// widthBlink - длина
// heightBlink - высота
// backgroundColor - основной цвет
// shadowColor - тень, для размытия границ
@mixin button-blink($widthBlink: rem(7), $heightBlink: 140%, $backgroundColor: $button-blink-background, $shadowColor: $button-blink-background) {

    &:before {
        content: '';
        position: absolute;
        left: -100%;
        top: -20%;
        width: $widthBlink;
        height: $heightBlink;
        background: $backgroundColor;
        box-shadow: 0 0 20px 20px $backgroundColor;
        transform: rotate(25deg);

        animation-duration: 2s;
        animation-delay: 2s;
        animation-fill-mode: both;
        animation-iteration-count: infinite;
        animation-name: animateBlink;
    }

    @keyframes animateBlink {
        0% {
            left: -100%;
        }

        100% {
            left: 200%;
        }
    }
}