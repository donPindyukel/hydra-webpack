// ==========================================================================
// Компонент кнопки
// ==========================================================================

// Создание кнопки
// width - длина кнопки
// color-text - цвет текста
// color-bg - цвет фона
// color-border - цвет обводки
// color-shadow - цвет тени
@mixin button($max-width: auto, $color-text: $color-text-normal, $color-bg: $button-color-bg, $color-border: transparent, $color-shadow: transparent) {
	$color-bg-hover: darken($color-bg, 10%);
	$color-border-hover: darken($color-border, 10%);
	$color-shadow-hover: darken($color-shadow, 10%);

	@include hover {
		text-decoration: none;
		color: $color-text;
		border: $button-border-size $color-border-hover;
		outline: none;
		background: $color-bg-hover;

		@if ($button-option-shadow) {
			box-shadow: $button-shadow-size $color-shadow-hover;
		}
	}
	@include focus {
		text-decoration: none;
		color: $color-text;
		border: $button-border-size $color-border-hover;
		outline: none;
		background: $color-bg-hover;

		@if ($button-option-shadow) {
			box-shadow: $button-shadow-size $color-shadow-hover;
		}
	}

	position: relative;
	display: inline-block;
	overflow: hidden;
	max-width: $max-width;
	padding: $button-padding;
	cursor: pointer;
	user-select: none;
	transition: all 0.2s linear;
	text-align: center;
	vertical-align: middle;
	white-space: nowrap;
	text-decoration: none;
	color: $color-text;
	border: $button-border-size $color-border;
	border-radius: $button-border-radius;
	outline: none;
	background: $color-bg;

	@if ($button-option-shadow) {
		box-shadow: $button-shadow-size $color-shadow;
	}
}

// Дополнение к кнопки. Индикатор загрузки
// color - Цвец кнопки
// width - длина кнопки
// centerModif - модификатор изображения
@mixin button-loading($color: #000, $width: rem(14), $centerModif: 1.35) {
	$size: $width;
	$border: rem($width - ($width * 0.8));
	$margin: rem(($width * $centerModif) - $width * 2) 0 0 rem(($width * $centerModif) - $width * 2);
	$color-before: fade_out($color, 0.6);

	position: relative;
	color: transparent;

	&:before {
		position: absolute;
		top: 50%;
		left: 50%;
		width: $size;
		height: $size;
		margin: $margin;
		content: '';
		border: $border solid $color-before;
		border-radius: 50%;
	}

	&:after {
		@include animated('rotate', 0.6s, 'infinite');

		position: absolute;
		top: 50%;
		left: 50%;
		width: $size;
		height: $size;
		margin: $margin;
		content: '';
		border-width: $border;
		border-style: solid;
		border-color: $color transparent transparent;
		border-radius: 50%;
		box-shadow: 0 0 0 1px transparent;
	}
}

// Дополнение к кнопки. Индикатор мерцания кнопки
// widthBlink - длина
// heightBlink - высота
// backgroundColor - основной цвет
// shadowColor - тень, для размытия границ
@mixin button-blink($widthBlink: rem(7), $heightBlink: 140%, $backgroundColor: $button-blink-background, $shadowColor: $button-blink-background) {
	&:before {
		position: absolute;
		top: -20%;
		left: -100%;
		width: $widthBlink;
		height: $heightBlink;
		content: '';
		transform: rotate(25deg);
		animation-name: animateBlink;
		animation-duration: 2s;
		animation-delay: 2s;
		animation-iteration-count: infinite;
		background: $backgroundColor;
		box-shadow: 0 0 20px 20px $backgroundColor;

		animation-fill-mode: both;
	}

	@keyframes animateBlink {
		0% {
			left: -100%;
		}

		100% {
			left: 200%;
		}
	}
}
