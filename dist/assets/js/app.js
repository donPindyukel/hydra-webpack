"use strict";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function log(e){console.log(e)}function each(e,t){for(var n=0;n<e.length;n++)t(e[n])}function ajaxGet(e,t){var n=new XMLHttpRequest;n.open("GET",e),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onload=function(){t(n.responseText,n.status)},n.send()}function ajaxPost(e,t,n){var o=new XMLHttpRequest;o.open("POST",e),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onload=function(){n(o.responseText,o.status)},o.send(encodeURI(t))}function el(e){var t=[];if("string"==typeof e)for(var n=document.querySelectorAll(e),o=0;o<n.length;o++)t.push(new Element(n[o]));else if("object"===(void 0===e?"undefined":_typeof(e))&&e.length>0)for(var r=e,i=0;i<r.length;i++)t.push(new Element(r[i]));return t}function el_modal(e){var t=[];if("string"==typeof e)for(var n=document.querySelectorAll(e),o=0;o<n.length;o++)t.push(new ElModal(n[o]));else if("object"===(void 0===e?"undefined":_typeof(e))&&e.length>0)for(var r=e,i=0;i<r.length;i++)t.push(new ElModal(r[i]));return t}function el_button(e){var t=[];if("string"==typeof e)for(var n=document.querySelectorAll(e),o=0;o<n.length;o++)t.push(new ElButton(n[o]));else if("object"===(void 0===e?"undefined":_typeof(e))&&e.length>0)for(var r=e,i=0;i<r.length;i++)t.push(new ElButton(r[i]));return t}function el_form(e){var t=[];if("string"==typeof e)for(var n=document.querySelectorAll(e),o=0;o<n.length;o++)t.push(new ElForm(n[o]));else if("object"===(void 0===e?"undefined":_typeof(e))&&e.length>0)for(var r=e,i=0;i<r.length;i++)t.push(new ElForm(r[i]));return t}function el_field(e){var t=[];if("string"==typeof e)for(var n=document.querySelectorAll(e),o=0;o<n.length;o++)t.push(new ElField(n[o]));else if("object"===(void 0===e?"undefined":_typeof(e))&&e.length>0)for(var r=e,i=0;i<r.length;i++)t.push(new ElField(r[i]));return t}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Element=function(){function t(e){return _classCallCheck(this,t),this.name=null,this.actor=null,"string"==typeof e?(this.name=e,this.actor=document.querySelector(e)):"object"===(void 0===e?"undefined":_typeof(e))&&(this.actor=e),this}return _createClass(t,[{key:"addClass",value:function(e){return this.actor.classList.add(e),this}},{key:"removeClass",value:function(e){return this.actor.classList.remove(e),this}},{key:"addClassTimeout",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=this;return setTimeout(function(){n.addClass(e)},t),this}},{key:"removeClassTimeout",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=this;return setTimeout(function(){n.removeClass(e)},t),this}},{key:"hasClass",value:function(t){for(var n=0;n<e.actor.classList.length;n++)if(e.actor.classList[n]===t)return!0;return!1}},{key:"attr",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!==t&&this.actor.setAttribute(e,t),this.actor.getAttribute(e)}},{key:"data",value:function(e){return this.actor.getAttribute("data-"+e)}},{key:"hasData",value:function(e){return null!==this.data(e)}},{key:"eventClick",value:function(e){var t=this;return this.actor.addEventListener("click",function(){e(t)}),this}},{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:el;return t(null!==this.name?this.name+" "+e:this.actor.querySelectorAll(e))}},{key:"html",value:function(e){return this.actor.innerHTML=e,this}}]),t}(),ElModal=function(e){function t(e){var n;_classCallCheck(this,t);var o=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=o,_possibleConstructorReturn(o,n)}return _inherits(t,e),_createClass(t,[{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:modalAnimateClassShow,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:modalAnimateDeleteTimeout;null!==e&&(this.addClass(e),this.removeClassTimeout(e,t)),this.addClass("show")}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:modalAnimateClassHide,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:modalAnimateDeleteTimeout;if(null!==e){this.addClass(e),this.removeClassTimeout(e,t);var n=this;setTimeout(function(){n.removeClass("show")},t)}else this.removeClass("show")}}]),t}(Element),ElButton=function(e){function t(e){var n;_classCallCheck(this,t);var o=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=o,_possibleConstructorReturn(o,n)}return _inherits(t,e),_createClass(t,[{key:"filter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:buttonFilterDataTargetName,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:buttonFilterDataActorName,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:globalHideClass,r=el(e);this.eventClick(function(e){each(r,function(r){r.addClass(o),e.hasData(t)&&r.hasData(n)&&e.data(t)===r.data(n)&&r.removeClass(o)})},!0)}}]),t}(Element),ElForm=function(e){function t(e){var n;_classCallCheck(this,t);var o=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.formFields=o.loadFields(),n=o,_possibleConstructorReturn(o,n)}return _inherits(t,e),_createClass(t,[{key:"loadFields",value:function(){var e=[];return each(this.find("input",el_field),function(t){e.push(t)}),each(this.find("select",el_field),function(t){e.push(t)}),e}},{key:"serialize",value:function(){var e="",t=1,n=this.formFields.length;return each(this.formFields,function(o){"submit"!==o.attr("type")&&(e+=o.attr("name")+"="+o.val(),t<n&&(e+="&")),t++}),e}},{key:"eventSubmit",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:formStopIsNotValidate,o=this;this.actor.addEventListener("submit",function(r){if(r.preventDefault(),n){var i=0;t.formFields.forEach(function(e){e.validate()||i++}),0===i&&ajaxPost(o.attr("action"),o.serialize(),e)}else ajaxPost(o.attr("action"),o.serialize(),e);return!1})}}]),t}(Element),ElField=function(e){function t(e){var n;_classCallCheck(this,t);var o=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.formFields=[],n=o,_possibleConstructorReturn(o,n)}return _inherits(t,e),_createClass(t,[{key:"val",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==e&&(this.actor.value=e),this.actor.value}},{key:"checked",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==e&&(this.actor.checked=e),this.actor.checked}},{key:"validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fieldValidType,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fieldValidDataName;if("length"===e){var n=parseInt(this.data(t));return this.val().length>=n}if("checked"===e){var o=Boolean(this.data(t));return this.checked()===o}}},{key:"eventChange",value:function(e){var t=this;return this.actor.addEventListener("change",function(){e(t)}),this}},{key:"eventValidate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fieldValidSuccessClass,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fieldValidErrorClass,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fieldValidRemoveClassTimeout,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fieldValidType,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:fieldValidDataName;return this.eventChange(function(i){i.validate(o,r)?(i.addClass(e),null!==n&&i.removeClassTimeout(e,n)):(i.addClass(t),null!==n&&i.removeClassTimeout(t,n))}),this}}]),t}(Element),form=el_form(".ajax-form");form[0].serialize(),each(form[0].formFields,function(e){e.eventValidate("validate-success","validate-error")}),form[0].eventSubmit(function(e,t){log(e)},!0);